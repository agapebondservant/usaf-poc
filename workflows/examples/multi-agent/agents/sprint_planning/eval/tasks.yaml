plan:
  description: >
    Here is the content of the {{document_planner.document_type}}:
    File Content
    ------------------
    {{document_builder_reflection.output}}
    
    Your task is to use the {{document_planner.document_type}} generated by the tech_writer 
    agent to generate new EvalDetails content, which is a list with the 
    following fields:
    
    baseline: {input}
    candidate: {{document_builder_reflection.output}}
    
    Use the FileWriterTool to save the revised content to a file named 
    {output_base_path}/spec/eval_{{document_planner.file_name}}.

  expected_output: >
    Content of the file saved as EvalDetails content to 
    {output_base_path}/spec/eval_{{document_planner.file_name}}.
  agent: reviewer
  allow_delegation: False
  context:
    - document_planner
    - document_builder_reflection

pre_build:
  description: >
    Do nothing and pass the input to the next task. Confirm completion with 'OK'.
  expected_output: >
    A confirmation string 'OK'.
  agent: reviewer
  allow_delegation: False

build:
  description: >
    Here is the test_data_file_path of the EvalDetails to be evaluated:
    
    {output_base_path}/spec/eval_{{document_planner.file_name}}
    
    Your task is to evaluate this data and store the results using the 'Get 
    LLM-as-Judge Evaluation Scores' tool. 
    
    Use the FileWriterTool to save the revised content to a file named 
    {output_base_path}/spec/eval_results_{{document_planner.file_name}}.
    
    Use CSV format for the document.

  expected_output: >
    Evaluation results of the 'Get LLM-as-Judge Evaluation Scores' tool saved
    to {output_base_path}/spec/eval_results_{{document_planner.file_name}}.
  agent: reviewer
  allow_delegation: False
  context:
    - document_planner

reflection:
  description: >
    Do nothing and pass the input to the next task. Confirm completion with 'OK'.
  expected_output: >
    A confirmation string 'OK'.
  agent: reviewer
  allow_delegation: False